---
import Base from "../../layout/Base.astro";
import { addOffre } from "../../js/backend.mjs";

let message = '';
if (Astro.request.method === "POST") {
    const formData = await Astro.request.formData();
    const response = await addOffre(formData);
    message = response.message;
}
---


<Base title="Ajouter une offre">
<h1 class="text-lg">Ajouter une offre</h1>
<form action="/offres/add" method="POST" enctype="multipart/form-data">
    <input type="text" name="nom_maison" placeholder="Nom de la maison" required class="w-full mt-2 p-2 border border-gray-300 rounded-md" />
    <input type="text" name="adresse" placeholder="Adresse" required class="w-full mt-2 p-2 border border-gray-300 rounded-md" />
    <input type="number" name="prix" placeholder="Prix" />
    <input type="number" name="nombre_Sdb" placeholder="Nombre de salles de bain"  />
    <input type="number" name="nombre_chambre" placeholder="Nombre de chambres"  />
    <input type="number" name="surface" placeholder="Superficie"  />
    <input type="file" name="images"  />
    <button type="submit" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700">Ajouter</button>
</form>

</Base>